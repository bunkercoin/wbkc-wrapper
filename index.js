"use strict";const polygonAddressRegex=/^[0-9a-zA-Z]{40,40}/g,bunkercoinAddressRegex=/^[0-9a-zA-Z]{33,33}/g,apiURL="https://wrap.bunkercoin.xyz/api/",minDeposit=100,minConfirmations=60,web3=window.ethereum;var Web3Eth,eth,ethereum;const addToMetaMask=async()=>{return void 0===(eth=void 0===ethereum&&void 0!==web3?new Web3Eth(web3.givenProvider):new Web3Eth(ethereum))?["Unable to locate MetaMask",!1]:137==await eth.net.getId()?[void 0,!0]:(e=[{chainId:"0x89",chainName:"Matic Mainnet",nativeCurrency:{name:"MATIC",symbol:"MATIC",decimals:18},rpcUrls:["https://polygon-rpc.com/"],blockExplorerUrls:["https://polygonscan.com/"]}],web3.request({method:"wallet_addEthereumChain",params:e}).then(()=>[void 0,!0]).catch(e=>[e.message,!1]));var e},metaMaskButton=document.getElementById("button-add-metamask"),submitButton1=document.querySelector("#button-deposit-address"),submitButton2=document.querySelector("#button-getbal"),submitButton3=document.querySelector("#button-emit");(async()=>{var[e,t]=await addToMetaMask();e&&!t&&alert(e),await web3.enable().catch(e=>{alert("An error has occured while enabling MetaMask: "+e)});const a=Web3Utils.toChecksumAddress(web3.selectedAddress),r=(document.querySelector("#matic-address").innerText="Your selected address: "+a,await fetch(apiURL+"/getDepositAddress/"+a));var t=await r.json(),e=JSON.parse(t.message),{}=t;document.querySelector("#wrap-deposit-address").innerText=e.depositAddress,setInterval(async()=>{var e=(await(await fetch(apiURL+"/getBalance/"+a)).text()).slice(1).slice(0,-1);e!==document.querySelector("#wrap-confirmed").innerText&&(document.querySelector("#wrap-confirmed").innerText=e)},3e4)})();